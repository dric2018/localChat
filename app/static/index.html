<!DOCTYPE html>
<html>
<body>
<h2>Select Model</h2>
<select id="modelSelect"></select>
<button onclick="loadModel()">Load</button>
<br><br>
<textarea id="prompt" rows="4" cols="50"></textarea><br>
<button onclick="sendPrompt()">Send</button>
<pre id="response"></pre>

<script>
fetch('/models').then(r => r.json()).then(models => {
  const sel = document.getElementById('modelSelect');
  models.forEach(m => {
    const opt = document.createElement('option');
    opt.value = m; opt.textContent = m;
    sel.appendChild(opt);
  });
});

function loadModel() {
  const model = document.getElementById('modelSelect').value;
  fetch('/load', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({model})
  });
}

function sendPrompt() {
  const prompt = document.getElementById('prompt').value;
  fetch('/chat', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({prompt})
  }).then(r => r.json()).then(data => {
    document.getElementById('response').textContent = data.response;
  });
}
</script>
</body>
</html>
